<html><title>Demosaic</title><link rel="stylesheet" type="text/css" href="rawprocdoc.css"><body>

<h3 id="Demosaic">Demosaic</h3>
<p>Purpose: This tool applied the selected demosaic algorithm to the previous tool's image.  That image must
be 'pre-demosaic', that is, in the original moasiced format loaded from a raw file.  The metadata item LibrawMosaiced
will be set to 1; if it is not, this tool will not be applied to the image.</p>

<p>To use it,
open a raw file with the input.raw.libraw.rawdata property set to 1 or 'crop', which pre-empts all of
the other raw processing and delivers the raw image array for processing.  The demosaic tool
can then be applied to develop a RGB image from the raw measurements.  The available options are:  
</p>
<ul>
<li><b>half:</b> Ummosaiced images are single-channel measurements of the light at the pixel
locations, made through either a red, green, or blue filter.  The measurements are usually arranged
in a quad, like this:</p>

<table border=1>
<tr><td bgcolor=red>R</td><td bgcolor=green>G</td></tr>
<tr><td bgcolor=green>G</td><td bgcolor=blue>B</td></tr>
</table>

<p>Regular demosaic algorithms will interpolate values for the other channels for each R, G, or B
measurement; half simply takes the quad of pixels and makes a single RGB 
pixel. The resulting image 
is half the size of the original. This implementation of half 
recognizes all the possible combinations of "4-quads", RGGB, BGGR, 
GRBG, GBRG.</p>

</li><br>
<li><b>half_resize:</b> This variation does the standard 'half', then resizes the image back
to the original size.</li><br>
<li><b>color:</b> This selection is not a demosaic; rather, it turns the monochrome raw image into
a color image, showing the R, G, or B color for each pixel.  Zoom in to see the individual
colors, particularly at a light or white part of the image.</li>

<li><b>ahd, amaze, dcb, igv, lmmse, rcd, vng:</b> These are the RawTherapee bayer algorithms, graciously 
provided by the RT team in librtprocess.</li>

<li><b>xtran_markesteijn, xtran_fast:</b>The RT algorithms for the Fuji XTRANS raw mosaics, also from 
librtprocess.</li>

</ul>

<p>The librtprocess algorithms will fail if an attempt is made to apply a bayer algorithm to an XTRANs 
image, and vice versa.</p>

<p align=center><img src=demosaic.png></p>

<p><b>Properties:</b> See tool.demosaic.* in <a href=confparams.html#tool.demosaic>Configuration Properties</a></p>

</body></html>
